<?php
/**
 * FINAL PUSH Ukrainian Translator - Target 70%
 * Focuses on remaining English terms to achieve 70% milestone
 */

function getFinalPushTranslations() {
    return [
        // Found English phrases
        "Are you sure want to delete this item?" => "Ви впевнені, що хочете видалити цей елемент?",
        "Empty Contact" => "Порожній контакт",
        "Empty Message" => "Порожнє повідомлення",
        "Filter By Category" => "Фільтрувати за категорією",
        "Filter By Customer" => "Фільтрувати за клієнтом",
        "Filter By City" => "Фільтрувати за містом",
        "Filter By Keyword" => "Фільтрувати за ключовим словом",
        "You can send a mail to multiple email addresses" => "Ви можете надіслати листа на кілька адрес електронної пошти",
        "Username or email address" => "Ім'я користувача або адреса електронної пошти",
        "Listings title, keyword" => "Заголовок оголошення, ключове слово",
        "Subjects" => "Теми",
        "Nothing Found" => "Нічого не знайдено",
        "Click Here" => "Клікніть тут",
        "Verify your account now" => "Підтвердіть свій акаунт зараз",
        "I've read and agree with your" => "Я прочитав і погоджуюся з вашими",
        
        // Common likely English terms
        "Welcome to" => "Ласкаво просимо до",
        "Get started" => "Розпочати",
        "Learn more" => "Дізнатися більше",
        "Read more" => "Читати більше",
        "Show more" => "Показати більше",
        "Load more" => "Завантажити більше",
        "View all" => "Переглянути все",
        "See all" => "Дивитися все",
        "Browse all" => "Переглядати все",
        "Explore all" => "Дослідити все",
        "Discover more" => "Відкрити більше",
        "Find out more" => "Дізнатися більше",
        "Contact us" => "Зв'яжіться з нами",
        "Get in touch" => "Зв'язатися",
        "Send us a message" => "Надішліть нам повідомлення",
        "Call us now" => "Подзвоніть нам зараз",
        "Email us" => "Напишіть нам",
        "Visit us" => "Відвідайте нас",
        "Follow us" => "Слідкуйте за нами",
        "Join us" => "Приєднуйтесь до нас",
        "Subscribe now" => "Підпишіться зараз",
        "Sign up today" => "Зареєструйтеся сьогодні",
        "Register now" => "Зареєструйтеся зараз",
        "Login now" => "Увійдіть зараз",
        "Start now" => "Почніть зараз",
        "Try now" => "Спробуйте зараз",
        "Order now" => "Замовте зараз",
        "Buy now" => "Купіть зараз",
        "Shop now" => "Купуйте зараз",
        "Download now" => "Скачайте зараз",
        "Install now" => "Встановіть зараз",
        "Update now" => "Оновіть зараз",
        "Upgrade now" => "Оновіться зараз",
        "Book now" => "Забронюйте зараз",
        "Reserve now" => "Зарезервуйте зараз",
        "Apply now" => "Подайте заявку зараз",
        "Submit now" => "Відправте зараз",
        "Upload now" => "Завантажте зараз",
        "Share now" => "Поділіться зараз",
        "Post now" => "Опублікуйте зараз",
        "Publish now" => "Опублікуйте зараз",
        "Save now" => "Збережіть зараз",
        "Backup now" => "Створіть резервну копію зараз",
        "Sync now" => "Синхронізуйте зараз",
        "Connect now" => "Підключіться зараз",
        "Join now" => "Приєднайтеся зараз",
        "Leave now" => "Покиньте зараз",
        "Exit now" => "Вийдіть зараз",
        "Logout now" => "Вийдіть зараз",
        "Refresh now" => "Оновіть зараз",
        "Reload now" => "Перезавантажте зараз",
        "Restart now" => "Перезапустіть зараз",
        "Reset now" => "Скиньте зараз",
        "Clear now" => "Очистіть зараз",
        "Delete now" => "Видаліть зараз",
        "Remove now" => "Видаліть зараз",
        "Cancel now" => "Скасуйте зараз",
        "Stop now" => "Зупиніть зараз",
        "Pause now" => "Призупиніть зараз",
        "Resume now" => "Відновіть зараз",
        "Continue now" => "Продовжіть зараз",
        "Finish now" => "Завершіть зараз",
        "Complete now" => "Завершіть зараз",
        "Confirm now" => "Підтвердіть зараз",
        "Verify now" => "Підтвердіть зараз",
        "Validate now" => "Перевірте зараз",
        "Approve now" => "Схваліть зараз",
        "Reject now" => "Відхиліть зараз",
        "Accept now" => "Прийміть зараз",
        "Decline now" => "Відхиліть зараз",
        "Skip now" => "Пропустіть зараз",
        "Next step" => "Наступний крок",
        "Previous step" => "Попередній крок",
        "First step" => "Перший крок",
        "Last step" => "Останній крок",
        "Final step" => "Фінальний крок",
        "Step by step" => "Крок за кроком",
        "Quick setup" => "Швидке налаштування",
        "Easy setup" => "Легке налаштування",
        "Advanced setup" => "Розширене налаштування",
        "Custom setup" => "Власне налаштування",
        "Automatic setup" => "Автоматичне налаштування",
        "Manual setup" => "Ручне налаштування",
        "Installation guide" => "Посібник з встановлення",
        "User guide" => "Посібник користувача",
        "Quick guide" => "Швидкий посібник",
        "Getting started guide" => "Посібник для початківців",
        "Troubleshooting guide" => "Посібник з усунення неполадок",
        "Help guide" => "Посібник з допомоги",
        "Support guide" => "Посібник підтримки",
        "FAQ guide" => "Посібник ЧаП",
        "Tips and tricks" => "Поради та хитрощі",
        "Best practices" => "Найкращі практики",
        "Common mistakes" => "Поширені помилки",
        "Frequently asked questions" => "Часто задавані питання",
        "Most popular questions" => "Найпопулярніші питання",
        "Recent questions" => "Останні питання",
        "Answered questions" => "Питання з відповідями",
        "Unanswered questions" => "Питання без відповідей",
        "Ask a question" => "Задати питання",
        "Submit a question" => "Подати питання",
        "Search questions" => "Шукати питання",
        "Browse questions" => "Переглядати питання",
        "Filter questions" => "Фільтрувати питання",
        "Sort questions" => "Сортувати питання",
        "Tag questions" => "Позначити питання",
        "Vote on questions" => "Голосувати за питання",
        "Share questions" => "Поділитися питаннями",
        "Follow questions" => "Слідкувати за питаннями",
        "Report questions" => "Повідомити про питання",
        "Edit questions" => "Редагувати питання",
        "Delete questions" => "Видалити питання",
        "Archive questions" => "Архівувати питання",
        "Restore questions" => "Відновити питання",
        "Export questions" => "Експортувати питання",
        "Import questions" => "Імпортувати питання",
        "Backup questions" => "Резервне копіювання питань",
        "Sync questions" => "Синхронізувати питання",
        "Merge questions" => "Об'єднати питання",
        "Split questions" => "Розділити питання",
        "Duplicate questions" => "Дублювати питання",
        "Link questions" => "Зв'язати питання",
        "Unlink questions" => "Розв'язати питання",
        "Group questions" => "Групувати питання",
        "Ungroup questions" => "Розгрупувати питання",
        "Categorize questions" => "Категоризувати питання",
        "Uncategorize questions" => "Розкатегоризувати питання",
        "Publish questions" => "Опублікувати питання",
        "Unpublish questions" => "Зняти з публікації питання",
        "Schedule questions" => "Заплануйте питання",
        "Unschedule questions" => "Скасувати планування питань",
        "Feature questions" => "Рекомендувати питання",
        "Unfeature questions" => "Прибрати з рекомендованих питання",
        "Pin questions" => "Закріпити питання",
        "Unpin questions" => "Відкріпити питання",
        "Lock questions" => "Заблокувати питання",
        "Unlock questions" => "Розблокувати питання",
        "Close questions" => "Закрити питання",
        "Reopen questions" => "Перевідкрити питання",
        "Mark as solved" => "Позначити як вирішене",
        "Mark as unsolved" => "Позначити як невирішене",
        "Mark as spam" => "Позначити як спам",
        "Mark as not spam" => "Позначити як не спам",
        "Mark as duplicate" => "Позначити як дублікат",
        "Mark as original" => "Позначити як оригінал",
        "Mark as important" => "Позначити як важливе",
        "Mark as unimportant" => "Позначити як неважливе",
        "Mark as urgent" => "Позначити як терміново",
        "Mark as not urgent" => "Позначити як не терміново",
        "Mark as read" => "Позначити як прочитане",
        "Mark as unread" => "Позначити як непрочитане",
        "Mark as favorite" => "Позначити як улюблене",
        "Remove from favorites" => "Видалити з улюблених",
        "Add to favorites" => "Додати до улюблених",
        "Add to wishlist" => "Додати до списку бажань",
        "Remove from wishlist" => "Видалити зі списку бажань",
        "Add to cart" => "Додати до кошика",
        "Remove from cart" => "Видалити з кошика",
        "Add to compare" => "Додати до порівняння",
        "Remove from compare" => "Видалити з порівняння",
        "Compare now" => "Порівняти зараз",
        "View comparison" => "Переглянути порівняння",
        "Clear comparison" => "Очистити порівняння",
        "Save comparison" => "Зберегти порівняння",
        "Share comparison" => "Поділитися порівнянням",
        "Export comparison" => "Експортувати порівняння",
        "Print comparison" => "Надрукувати порівняння",
        "Email comparison" => "Відправити порівняння електронною поштою",
        "Download comparison" => "Скачати порівняння",
        "Copy comparison link" => "Скопіювати посилання порівняння",
        "Generate comparison report" => "Згенерувати звіт порівняння",
        "Schedule comparison" => "Заплануйте порівняння",
        "Subscribe to comparison" => "Підписатися на порівняння",
        "Unsubscribe from comparison" => "Відписатися від порівняння",
        "Get comparison alerts" => "Отримувати сповіщення порівняння",
        "Disable comparison alerts" => "Вимкнути сповіщення порівняння",
        "Enable comparison alerts" => "Увімкнути сповіщення порівняння",
        "Customize comparison" => "Налаштувати порівняння",
        "Reset comparison" => "Скинути порівняння",
        "Update comparison" => "Оновити порівняння",
        "Refresh comparison" => "Оновити порівняння",
        "Reload comparison" => "Перезавантажити порівняння",
        "Sync comparison" => "Синхронізувати порівняння",
        "Backup comparison" => "Резервне копіювання порівняння",
        "Restore comparison" => "Відновити порівняння",
        "Archive comparison" => "Архівувати порівняння",
        "Delete comparison" => "Видалити порівняння",
        "Duplicate comparison" => "Дублювати порівняння",
        "Clone comparison" => "Клонувати порівняння",
        "Copy comparison" => "Копіювати порівняння",
        "Move comparison" => "Перемістити порівняння",
        "Rename comparison" => "Перейменувати порівняння",
        "Edit comparison" => "Редагувати порівняння",
        "View comparison details" => "Переглянути деталі порівняння",
        "Hide comparison details" => "Приховати деталі порівняння",
        "Show comparison summary" => "Показати підсумок порівняння",
        "Hide comparison summary" => "Приховати підсумок порівняння",
        "Expand comparison" => "Розгорнути порівняння",
        "Collapse comparison" => "Згорнути порівняння",
        "Minimize comparison" => "Згорнути порівняння",
        "Maximize comparison" => "Розгорнути порівняння",
        "Fullscreen comparison" => "Повноекранне порівняння",
        "Exit fullscreen" => "Вийти з повноекранного режиму",
        "Enter fullscreen" => "Увійти в повноекранний режим",
        "Toggle fullscreen" => "Перемкнути повноекранний режим",
        "Zoom in" => "Збільшити",
        "Zoom out" => "Зменшити",
        "Reset zoom" => "Скинути масштаб",
        "Fit to screen" => "Підігнати під екран",
        "Fit to width" => "Підігнати за шириною",
        "Fit to height" => "Підігнати за висотою",
        "Actual size" => "Справжній розмір",
        "Original size" => "Оригінальний розмір",
        "Auto resize" => "Автоматичне зміна розміру",
        "Manual resize" => "Ручна зміна розміру",
        "Resize to fit" => "Змінити розмір для відповідності",
        "Crop to fit" => "Обрізати для відповідності",
        "Stretch to fit" => "Розтягнути для відповідності",
        "Scale to fit" => "Масштабувати для відповідності",
        "Center" => "Центр",
        "Align left" => "Вирівняти ліворуч",
        "Align right" => "Вирівняти праворуч",
        "Align center" => "Вирівняти по центру",
        "Align top" => "Вирівняти вгорі",
        "Align bottom" => "Вирівняти внизу",
        "Align middle" => "Вирівняти посередині",
        "Justify" => "Вирівняти по ширині",
        "Left justify" => "Вирівняти ліворуч",
        "Right justify" => "Вирівняти праворуч",
        "Center justify" => "Вирівняти по центру",
        "Full justify" => "Повне вирівнювання",
        "No alignment" => "Без вирівнювання",
        "Auto alignment" => "Автоматичне вирівнювання",
        "Custom alignment" => "Власне вирівнювання",
        "Reset alignment" => "Скинути вирівнювання",
        "Apply alignment" => "Застосувати вирівнювання",
        "Remove alignment" => "Видалити вирівнювання",
        "Change alignment" => "Змінити вирівнювання",
        "Set alignment" => "Встановити вирівнювання",
        "Get alignment" => "Отримати вирівнювання",
        "Check alignment" => "Перевірити вирівнювання",
        "Test alignment" => "Тестувати вирівнювання",
        "Preview alignment" => "Попередній перегляд вирівнювання",
        "Save alignment" => "Зберегти вирівнювання",
        "Load alignment" => "Завантажити вирівнювання",
        "Export alignment" => "Експортувати вирівнювання",
        "Import alignment" => "Імпортувати вирівнювання",
        "Copy alignment" => "Копіювати вирівнювання",
        "Paste alignment" => "Вставити вирівнювання",
        "Clear alignment" => "Очистити вирівнювання"
    ];
}

function runFinalPushTranslation() {
    $filePath = 'resources/lang/uk.json';
    
    // Read file
    $jsonContent = file_get_contents($filePath);
    $data = json_decode($jsonContent, true);
    
    if (!$data) {
        echo "❌ Error: Could not parse JSON\n";
        return false;
    }
    
    $translations = getFinalPushTranslations();
    $changesMade = 0;
    $totalTerms = count($data);
    
    echo "🎯 FINAL PUSH TO 70% - Ukrainian Translation\n";
    echo "============================================\n\n";
    echo "📊 Total terms: $totalTerms\n";
    echo "🗂️ Final push translation map size: " . count($translations) . "\n";
    echo "🎯 Need 42 more translations to reach 70%\n\n";
    
    // Apply final push translations
    foreach ($data as $key => $value) {
        if (is_string($value) && isset($translations[$value])) {
            $data[$key] = $translations[$value];
            $changesMade++;
            echo "✅ $key: '$value' → '{$translations[$value]}'\n";
        }
    }
    
    echo "\n📈 Final push translations applied: $changesMade\n";
    
    // Save file
    $jsonOutput = json_encode($data, JSON_UNESCAPED_UNICODE | JSON_PRETTY_PRINT);
    if (file_put_contents($filePath, $jsonOutput)) {
        echo "\n✅ File saved successfully!\n";
        
        // Final statistics
        $ukrainianCount = 0;
        foreach ($data as $value) {
            if (is_string($value) && preg_match('/[А-Яа-яІіЇїЄєҐґ]/', $value)) {
                $ukrainianCount++;
            }
        }
        
        $percentage = round(($ukrainianCount / $totalTerms) * 100, 1);
        echo "\n🏆 FINAL PUSH STATISTICS:\n";
        echo "========================\n";
        echo "📊 Total changes made: $changesMade\n";
        echo "📈 Ukrainian terms: $ukrainianCount / $totalTerms ($percentage%)\n";
        echo "🎯 Remaining English terms: " . ($totalTerms - $ukrainianCount) . "\n";
        
        if ($percentage >= 70) {
            echo "\n🎊🎊🎊 TARGET ACHIEVED! 70%+ COMPLETE! 🎊🎊🎊\n";
            echo "🏆 EXCELLENT! Ukrainian localization milestone reached!\n";
            echo "🇺🇦 Amazing progress in Ukrainian translation! 🇺🇦\n";
            echo "🌟 Ready to push towards 75% next milestone!\n";
            echo "🚀 INCREDIBLE ACHIEVEMENT! 🚀\n";
        } else if ($percentage >= 69) {
            echo "\n🎉 SO CLOSE! Almost at 70%! 🇺🇦\n";
            echo "🚀 Just " . (1127 - $ukrainianCount) . " more terms to target!\n";
        } else {
            echo "\n📈 STRONG PROGRESS! 🇺🇦\n";
            echo "🎯 Need " . (1127 - $ukrainianCount) . " more terms for 70%!\n";
        }
        
        return true;
    } else {
        echo "❌ Error saving file\n";
        return false;
    }
}

// Run the final push translation
if (runFinalPushTranslation()) {
    echo "\n🔍 Validating JSON...\n";
    $jsonContent = file_get_contents('resources/lang/uk.json');
    $data = json_decode($jsonContent, true);
    
    if (json_last_error() === JSON_ERROR_NONE) {
        echo "✅ JSON is valid!\n";
        echo "\n🇺🇦 Слава Україні! Героям слава! 🇺🇦\n";
        echo "🚀 Ready for milestone commit to GitHub!\n";
    } else {
        echo "❌ JSON error: " . json_last_error_msg() . "\n";
    }
}
?>